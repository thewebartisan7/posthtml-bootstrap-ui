<x-page>
  <div class="row">
    <div class="col-12 col-xl-3 order-1 order-xl-2 toc">
      <div class="mt-3 mb-5 my-lg-0 ps-xl-3 mb-lg-5 text-muted">
        <strong class="d-none d-xl-block h6 my-2">On this page</strong>
        <hr class="d-none d-xl-block invisible my-2" />
        <div class="collapse d-xl-block" id="collapse-toc"></div>
      </div>
    </div>

    <div class="col-12 col-xl-9 order-2 order-xl-1">
      <markdown src="introduction.md"></markdown>
    </div>
  </div>
</x-page>

<push name="scripts">
  <!-- Move generated TOC -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const destination = document.getElementById('collapse-toc');
      const source = document.getElementById('header-toc');

      if (destination && source) {
        destination.appendChild(source);
      }
    })
  </script>
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/highlight.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const code = document.querySelectorAll("pre code");
      if (code) {
        code.forEach((c) => {
          if (c.closest('pre')) {
            c.closest('pre').classList.add('doc-shadow', 'rounded-3');
          }
        });
        hljs.highlightAll();
      }

      const table = document.querySelectorAll("table");
      if (table) {
        table.forEach(t => {
          t.classList.add('table');
        })
      }
    });
  </script>
</push>

<push name="styles">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.6.0/styles/github.css" />

  <style>
    @media only screen and (min-width: 1200px) {
      .toc {
        position: sticky;
        top: 1rem;
        right: 0;
        z-index: 2;
        height: calc(100vh - 7rem);
        overflow-y: auto;
      }
    }

    h1,
    h2,
    h3 {
      margin-top: 3rem;
      margin-bottom: 1.5rem;
    }

    .header-anchor,
    h1 .header-anchor,
    h2 .header-anchor,
    h3 .header-anchor {
      color: inherit;
      text-decoration: none;
    }

    @media only screen and (min-width: 1200px) {
      .header-anchor {
        margin-left: -28px;
        line-height: 1;
        color: inherit;
        text-decoration: none;
        visibility: hidden;
      }

      h1 .header-anchor {
        margin-left: -34px;
      }

      h3 .header-anchor {
        margin-left: -24px;
      }

      .header-anchor:hover,
      h1:hover .header-anchor,
      h2:hover .header-anchor,
      h3:hover .header-anchor {
        visibility: visible;
      }
    }

    #header-toc .nav-link {
      color: #6c757d;
      padding: 0;
      margin-bottom: 0.5rem;
    }

    #header-toc .nav-link.active {
      color: #212529;
      font-weight: bold;
    }

    #header-toc .nav .nav-item > .nav {
      padding-left: 1.5rem;
    }

    #header-toc .nav .nav-item > .nav .nav-item > .nav {
      padding-left: 3rem;
    }
  </style>
</push>
